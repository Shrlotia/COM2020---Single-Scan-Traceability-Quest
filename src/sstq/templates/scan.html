{% extends "base.html" %}

{% block title %}Search for Products{% endblock %}
{% block custom_css %}<link rel="stylesheet" href="{{ url_for('static', filename='css/scan.css') }}">{% endblock %}
{% block custom_js%}<script type="module" src="{{ url_for('static', filename='js/scan.js') }}" defer></script>{% endblock %}

{% block content %}

<div class="body-element">
    <h1>Enter a Barcode</h1>

    <p>Type in a valid barcode (including leading zeroes)</p>

    <form id="barcode-form" action="{{ url_for('scan') }}" method="POST">
        <input id="barcode" name="barcode" placeholder="Barcode" required>
        <button type="submit">Search</button>
    </form>
</div>

<div class="body-element">
    <h1>Scan a Barcode</h1>

    <p>Click start to open your camera and scan a barcode.</p>

    <div>   
        <button id="start-scan" type="button">Start Camera</button>
        <button id="stop-scan" type="button">Stop / Close</button>
    </div>

    <p id="status">Scanner is idle.</p>
    <p id="detected"></p>

    <div class="scanner">
        <video id="preview" autoplay muted playsinline></video>
        <div class="scan-overlay" aria-hidden="true">
            <div class="scan-box"></div>
        </div>
    </div>
</div>
{% endblock %}
