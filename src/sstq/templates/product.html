{% extends "base.html" %}

{% block title %}Products{% endblock %}
{% block custom_css %}<link rel="stylesheet" href="{{ url_for('static', filename='css/product.css') }}">{% endblock %}
{% block custom_js%}<script type="module" src="{{ url_for('static', filename='js/product.js') }}" defer></script>{% endblock %}

{% block content %}
<section class="product-list-page">
    <h1>All Products</h1>

    <div class="product-search">
        <input
            id="productSearch"
            type="search"
            placeholder="Search by barcode or nameâ€¦"
            aria-label="Search products"
            autocomplete="off"
        />
    </div>

    {% if products %}
            <div class="product-grid" id="productGrid">
            {% for product in products %}
                <a
                    class="product-block"
                    href="{{ url_for('product.product_detail', barcode=product.barcode) }}"
                    data-barcode="{{ product.barcode|e }}"
                    data-name="{{ product.name|e }}"
                >
                    <p class="product-barcode">{{ product.barcode }}</p>
                    <p class="product-name">{{ product.name }}</p>
                </a>
            {% endfor %}
        </div>
    {% else %}
        <p class="empty-message">No products found in database.</p>
    {% endif %}
</section>
{% endblock %}